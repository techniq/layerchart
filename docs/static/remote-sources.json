{
  "data.remote.ts": "import { celsiusToFahrenheit } from 'layerchart';\nimport { parse, sortFunc } from '@layerstack/utils';\nimport { ascending, flatGroup, max, mean, min } from 'd3-array';\nimport { csvParse, autoType } from 'd3-dsv';\n\nimport { prerender, getRequestEvent } from '$app/server';\n\nimport type { PenguinsData } from '$static/data/examples/penguins.js';\nimport type { AppleStockData } from '$static/data/examples/date/apple-stock.js';\nimport type { USSenatorsData } from '$static/data/examples/us-senators';\nimport type { CivilizationTimeline } from '$static/data/examples/date/civilization-timeline.js';\nimport type { HydroData } from '$static/data/examples/date/hydro.js';\nimport type { AppleTickerData } from '$static/data/examples/date/apple-ticker.js';\nimport type { NewPassengerCars } from '$static/data/examples/new-passenger-cars.js';\n\nexport const getGroupData = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/group-data.json').then((r) => r.json())) as {\n\t\tx: number;\n\t\ty: number;\n\t\tgroup: string;\n\t}[];\n\treturn data;\n});\n\nexport const getAppleStock = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = await fetch('/data/examples/date/apple-stock.json').then(async (r) =>\n\t\tparse<AppleStockData>(await r.text())\n\t);\n\treturn data;\n});\n\nexport const getDailyTemperature = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = await fetch('/data/examples/date/daily-temperature.json').then(async (r) =>\n\t\tparse<{ date: Date; value: number }[]>(await r.text())\n\t);\n\treturn data;\n});\n\nexport const getDailyTemperatures = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = await fetch('/data/examples/dailyTemperatures.csv').then(async (r) => {\n\t\treturn csvParse<{ dayOfYear: number; year: number; value: number | 'NA' }>(\n\t\t\tawait r.text(),\n\t\t\t// @ts-expect-error - autoType\n\t\t\tautoType\n\t\t)\n\t\t\t.filter((d) => d.value !== 'NA' && d.dayOfYear <= 365 /* Ignore 366th day */)\n\t\t\t.map((d) => {\n\t\t\t\tconst origDate = new Date(d.year, 0, d.dayOfYear);\n\t\t\t\treturn {\n\t\t\t\t\t...d,\n\t\t\t\t\tdate: new Date(Date.UTC(2000, origDate.getUTCMonth(), origDate.getUTCDate())),\n\t\t\t\t\tvalue: d.value !== 'NA' ? celsiusToFahrenheit(d.value) : 'NA'\n\t\t\t\t};\n\t\t\t});\n\t});\n\treturn data;\n});\n\nexport const getSfoTemperatures = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = await fetch('/data/examples/sfoTemperatures.csv').then(async (r) => {\n\t\treturn flatGroup(\n\t\t\t// @ts-expect-error - autoType\n\t\t\tcsvParse<{ date: Date; tavg: number; tmax: number; tmin: number }>(await r.text(), autoType),\n\t\t\t(d) => new Date(Date.UTC(2000, d.date.getUTCMonth(), d.date.getUTCDate())) // group by day of year\n\t\t)\n\t\t\t.sort(([a], [b]) => ascending(a, b)) // sort chronologically\n\t\t\t.map(([date, v]) => ({\n\t\t\t\tdate,\n\t\t\t\tavg: mean(v, (d) => d.tavg || NaN),\n\t\t\t\tmin: mean(v, (d) => d.tmin || NaN),\n\t\t\t\tmax: mean(v, (d) => d.tmax || NaN),\n\t\t\t\tminmin: min(v, (d) => d.tmin || NaN),\n\t\t\t\tmaxmax: max(v, (d) => d.tmax || NaN)\n\t\t\t}));\n\t});\n\treturn data;\n});\n\nexport const getPenguins = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/penguins.csv').then(async (r) =>\n\t\tcsvParse(await r.text(), autoType)\n\t)) as PenguinsData;\n\treturn data;\n});\n\nexport const getFlare = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = await fetch('/data/examples/hierarchy/flare.json').then((r) => r.json());\n\treturn data;\n});\n\nexport const getUsSenators = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/us-senators.csv').then(async (r) =>\n\t\tcsvParse(await r.text(), autoType)\n\t)) as USSenatorsData;\n\treturn data;\n});\n\nexport const getAlphabet = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/alphabet.csv').then(async (r) =>\n\t\tcsvParse(await r.text(), autoType)\n\t)) as { letter: string; frequency: number }[];\n\treturn data;\n});\n\nexport const getOlympians = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/olympians.json').then((r) => r.json())) as {\n\t\tname: string;\n\t\tweight: number;\n\t\theight: number;\n\t}[];\n\treturn data;\n});\n\nexport const getUsEvents = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = await fetch('/data/examples/date/us-events.csv').then(async (r) => {\n\t\treturn csvParse(await r.text(), autoType).map((d: any) => {\n\t\t\treturn {\n\t\t\t\tstartDate: new Date(d.startYear, 0, 1),\n\t\t\t\tendDate: new Date(d.endYear, 11, 31),\n\t\t\t\tevent: d.event\n\t\t\t};\n\t\t});\n\t});\n\treturn data;\n});\n\nexport const getCivilizationEvents = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = await fetch('/data/examples/date/civilization-timeline.csv').then(async (r) => {\n\t\treturn csvParse<CivilizationTimeline>(\n\t\t\tawait r.text(),\n\t\t\t// @ts-expect-error - shh\n\t\t\tautoType\n\t\t).sort(sortFunc('start'));\n\t});\n\n\treturn data;\n});\n\nexport const getAppleTicker = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = await fetch('/data/examples/date/apple-ticker.json').then(async (r) =>\n\t\tparse<AppleTickerData>(await r.text())\n\t);\n\treturn data;\n});\n\nexport const getCars = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = await fetch('/data/examples/cars.csv').then(async (r) =>\n\t\t// @ts-expect-error - shh\n\t\tcsvParse<CarData>(await r.text(), autoType)\n\t);\n\treturn data;\n});\n\nexport const getNewPassengerCars = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = await fetch('/data/examples/new-passenger-cars.csv').then(async (r) =>\n\t\t// @ts-expect-error - shh\n\t\tcsvParse<NewPassengerCars>(await r.text(), autoType)\n\t);\n\treturn data;\n});\n\nexport const getHydro = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/date/hydro.json').then(async (r) =>\n\t\tparse(await r.text())\n\t)) as HydroData;\n\treturn data;\n});\n\nexport const getForceGroupDots = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/force-group-dots.json').then((r) => r.json())) as {\n\t\tcategory: string;\n\t\tvalue: number;\n\t}[];\n\treturn data;\n});\n",
  "geo.remote.ts": "import { prerender, getRequestEvent } from '$app/server';\n\nimport type { GeometryCollection, Topology } from 'topojson-specification';\nimport { geoCentroid } from 'd3-geo';\nimport { csvParse, autoType } from 'd3-dsv';\nimport { parse } from '@layerstack/utils';\n\nimport type { USStateCapitalsData } from '$static/data/examples/geo/us-state-capitals.js';\nimport type { WorldLinksData } from '$static/data/examples/geo/world-links.js';\n\nexport const getUsStatesTopology = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json').then((r) =>\n\t\tr.json()\n\t)) as Topology<{\n\t\tstates: GeometryCollection<{ name: string }>;\n\t}>;\n\treturn data;\n});\n\nexport const getUsCountiesTopology = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('https://cdn.jsdelivr.net/npm/us-atlas@3/counties-10m.json').then((r) =>\n\t\tr.json()\n\t)) as Topology<{\n\t\tstates: GeometryCollection<{ name: string }>;\n\t\tcounties: GeometryCollection<{ name: string }>;\n\t}>;\n\treturn data;\n});\n\nexport const getUsCountiesAlbersTopology = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch(\n\t\t'https://cdn.jsdelivr.net/npm/us-atlas@3/counties-albers-10m.json'\n\t).then((r) => r.json())) as Topology<{\n\t\tstates: GeometryCollection<{ name: string }>;\n\t\tcounties: GeometryCollection<{ name: string }>;\n\t}>;\n\treturn data;\n});\n\nexport const getCountriesTopology = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst geojson = (await fetch(\n\t\t'https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json'\n\t).then((r) => r.json())) as Topology<{\n\t\tcountries: GeometryCollection<{ name: string }>;\n\t\tland: GeometryCollection;\n\t}>;\n\treturn geojson;\n});\n\nexport const getCountriesDetailTopology = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst geojson = (await fetch(\n\t\t'https://cdn.jsdelivr.net/npm/world-atlas@2/countries-50m.json'\n\t).then((r) => r.json())) as Topology<{\n\t\tcountries: GeometryCollection<{ name: string }>;\n\t\tland: GeometryCollection;\n\t}>;\n\treturn geojson;\n});\n\nexport const getEclipses = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/geo/eclipses.json').then(async (r) =>\n\t\tparse(await r.text())\n\t)) as Topology<{\n\t\teclipses: GeometryCollection<{ ID: string; Date: Date }>;\n\t}>;\n\treturn data;\n});\n\nexport const getSubmarineCables = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = await fetch('/data/examples/geo/submarine-cables.json').then((r) => r.json());\n\treturn data;\n});\n\nexport const getSubmarineCablesLandingPoints = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = await fetch('/data/examples/geo/submarine-cables-landing-points.json').then((r) =>\n\t\tr.json()\n\t);\n\treturn data;\n});\n\nexport const getTectonicPlates = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = await fetch(\n\t\t'https://raw.githubusercontent.com/fraxen/tectonicplates/master/GeoJSON/PB2002_boundaries.json'\n\t).then((r) => r.json());\n\treturn data;\n});\n\nexport const getEarthquakes = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = await fetch(\n\t\t'https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojson'\n\t)\n\t\t.then((r) => r.json())\n\t\t.then((d: GeoJSON.FeatureCollection<null, { place: string; mag: number }>) =>\n\t\t\td.features.map((f) => {\n\t\t\t\tconst c = geoCentroid(f);\n\t\t\t\treturn {\n\t\t\t\t\tplace: f.properties.place,\n\t\t\t\t\tmagnitude: f.properties.mag,\n\t\t\t\t\tlongitude: c[0],\n\t\t\t\t\tlatitude: c[1]\n\t\t\t\t};\n\t\t\t})\n\t\t);\n\treturn data;\n});\n\nexport const getTimezones = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/geo/timezones.json').then((r) =>\n\t\tr.json()\n\t)) as Topology<{\n\t\ttimezones: GeometryCollection<{\n\t\t\tobjectid: number;\n\t\t\tscalerank: number;\n\t\t\tfeaturecla: string;\n\t\t\tname: string;\n\t\t\tmap_color6: number;\n\t\t\tmap_color8: number;\n\t\t\tnote: any;\n\t\t\tzone: number;\n\t\t\tutc_format: string;\n\t\t\ttime_zone: string;\n\t\t\tiso_8601: string;\n\t\t\tplaces: string;\n\t\t\tdst_places: any;\n\t\t\ttz_name1st: any;\n\t\t\ttz_namesum: number;\n\t\t}>;\n\t}>;\n\treturn data;\n});\n\nexport const getUsCapitals = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/geo/us-state-capitals.csv').then(async (r) =>\n\t\tcsvParse(await r.text(), autoType)\n\t)) as USStateCapitalsData;\n\treturn data;\n});\n\nexport const getUsAirports = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/geo/us-airports.csv').then(async (r) =>\n\t\tcsvParse(await r.text(), autoType)\n\t)) as { name: string; latitude: number; longitude: number }[];\n\treturn data;\n});\n\nexport const getUsCountyPopulation = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/geo/us-county-population-2020.json').then((r) =>\n\t\tr.json()\n\t)) as Array<{\n\t\tstate: string;\n\t\tcounty: string;\n\t\tDP05_0001E: string;\n\t\tDP05_0019E: string;\n\t\tDP05_0019PE: string;\n\t}>;\n\treturn data;\n});\n\nexport const getWorldCapitals = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/geo/world-capitals.json').then(async (r) =>\n\t\tr.json()\n\t)) as { label: string; latitude: number; longitude: number }[];\n\treturn data;\n});\n\nexport const getWorldAirports = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/geo/world-airports.csv').then(async (r) =>\n\t\tcsvParse(await r.text(), autoType)\n\t)) as { name: string; latitude: number; longitude: number }[];\n\treturn data;\n});\n\nexport const getWorldLinks = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/geo/world-links.json').then((r) =>\n\t\tr.json()\n\t)) as WorldLinksData;\n\treturn data;\n});\n",
  "graph.remote.ts": "import { prerender, getRequestEvent, query } from '$app/server';\nimport { range } from 'd3-array';\nimport { randomInteger } from '@layerstack/utils';\nimport { unique } from '@layerstack/utils/array';\nimport { z } from 'zod';\n\nconst alpha = [...Array(26)].map((val, i) => String.fromCharCode(i + 65));\n\nexport const getGraph = query(z.string(), async (name) => {\n\tswitch (name) {\n\t\tcase 'basic': {\n\t\t\treturn getBasicGraph();\n\t\t}\n\t\tcase 'simple': {\n\t\t\treturn getSimpleGraph();\n\t\t}\n\t\tcase 'medium': {\n\t\t\treturn getMediumDag();\n\t\t}\n\t\tcase 'large': {\n\t\t\treturn getLargeDag();\n\t\t}\n\t\tcase 'complex': {\n\t\t\treturn getComplexGraph();\n\t\t}\n\t\tcase 'miserables': {\n\t\t\treturn getMiserablesGraph();\n\t\t}\n\t\tcase 'tcp-state': {\n\t\t\treturn getTcpStateGraph();\n\t\t}\n\t\tcase 'software-user-flow': {\n\t\t\treturn getSoftwareUserFlowGraph();\n\t\t}\n\t\tcase 'cluster': {\n\t\t\treturn getClusterGraph();\n\t\t}\n\t\tcase 'dag-medium': {\n\t\t\treturn getMediumDag();\n\t\t}\n\t\tcase 'dag-large': {\n\t\t\treturn getLargeDag();\n\t\t}\n\t\tcase 'disjoint-graph': {\n\t\t\treturn getDisjointGraph();\n\t\t}\n\t\tcase 'simple-generated': {\n\t\t\treturn getSimpleGeneratedGraph();\n\t\t}\n\t\tcase 'complex-generated': {\n\t\t\treturn getComplexGeneratedGraph();\n\t\t}\n\t\tdefault: {\n\t\t\tthrow new Error(`Unknown graph: ${name}`);\n\t\t}\n\t}\n});\n\nexport const getBasicGraph = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/graph/basic.json').then((r) => r.json())) as {\n\t\tnodes: { id: string }[];\n\t\tlinks: { source: string; target: string }[];\n\t};\n\treturn data;\n});\n\nexport const getSimpleGraph = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/graph/simple.json').then((r) => r.json())) as {\n\t\tnodes: { id: string }[];\n\t\tlinks: { source: string; target: string }[];\n\t};\n\treturn data;\n});\n\nexport const getComplexGraph = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/graph/complex.json').then((r) => r.json())) as {\n\t\tnodes: { id: string }[];\n\t\tlinks: { source: string; target: string }[];\n\t};\n\treturn data;\n});\n\nexport const getMiserablesGraph = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/graph/miserables.json').then((r) => r.json())) as {\n\t\tnodes: { id: string; group: number }[];\n\t\tlinks: { source: string; target: string; value: number }[];\n\t};\n\treturn data;\n});\n\nexport const getTcpStateGraph = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/graph/tcp-state.json').then((r) => r.json())) as {\n\t\tnodes: { id: string }[];\n\t\tlinks: { source: string; target: string; label: string }[];\n\t};\n\treturn data;\n});\n\nexport const getSoftwareUserFlowGraph = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/graph/software-user-flow.json').then((r) =>\n\t\tr.json()\n\t)) as {\n\t\tnodes: { id: string }[];\n\t\tlinks: { source: string; target: string; label: string }[];\n\t};\n\treturn data;\n});\n\nexport const getClusterGraph = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/graph/cluster.json').then((r) => r.json())) as {\n\t\tnodes: { id: string; parent?: string }[];\n\t\tlinks: { source: string; target: string }[];\n\t};\n\treturn data;\n});\n\nexport const getMediumDag = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/graph/dag-medium.json').then((r) => r.json())) as {\n\t\tnodes: { id: string; name: string }[];\n\t\tlinks: { source: string; target: string }[];\n\t};\n\treturn data;\n});\n\nexport const getLargeDag = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/graph/dag-large.json').then((r) => r.json())) as {\n\t\tnodes: { id: string; name: string }[];\n\t\tlinks: { source: string; target: string }[];\n\t};\n\treturn data;\n});\n\nexport const getDisjointGraph = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/graph/disjoint-graph.json').then((r) => r.json())) as {\n\t\tnodes: { id: string; group: number }[];\n\t\tlinks: { source: string; target: string; value: number }[];\n\t};\n\treturn data;\n});\n\nexport const getSimpleGeneratedGraph = prerender(async () => {\n\tconst data = {\n\t\tnodes: alpha.map((a) => ({\n\t\t\tid: a\n\t\t})),\n\t\tlinks: alpha.flatMap((a, i) => {\n\t\t\tif (i === 25) {\n\t\t\t\treturn [];\n\t\t\t} else {\n\t\t\t\tconst randomDownstreamId = randomInteger(i + 1, 25);\n\t\t\t\tconst edge = { source: a, target: alpha[randomDownstreamId] };\n\t\t\t\treturn [edge];\n\t\t\t}\n\t\t})\n\t};\n\treturn data;\n});\n\nexport const getComplexGeneratedGraph = prerender(async () => {\n\tfunction getRandomDownstreamIds(index: number) {\n\t\treturn unique(range(randomInteger(1, 3)).map(() => randomInteger(index + 1, 25)));\n\t}\n\n\tconst data = {\n\t\tnodes: alpha.map((a) => ({\n\t\t\tid: a\n\t\t})),\n\t\tlinks: alpha.flatMap((a, i) => {\n\t\t\tif (i === 25) {\n\t\t\t\treturn [];\n\t\t\t} else {\n\t\t\t\treturn getRandomDownstreamIds(i).map((id) => {\n\t\t\t\t\treturn { source: a, target: alpha[id] };\n\t\t\t\t});\n\t\t\t}\n\t\t})\n\t};\n\treturn data;\n});\n\nexport const getGreenhouseGraph = prerender(async () => {\n\tconst { fetch } = getRequestEvent();\n\tconst data = (await fetch('/data/examples/graph/greenhouse.json').then((r) => r.json())) as {\n\t\tnodes: { id: string }[];\n\t\tlinks: { source: string; target: string }[];\n\t};\n\treturn data;\n});\n"
}